<app-navbar></app-navbar>
<div style="background-color: #f0f2f5; height: 100%; position: fixed; overflow: auto; z-index: 1; right: 0; width: 250px;">
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>
  <div>aa</div>

</div>
<div style="margin: 0 auto; padding-right: 250px; width: 450px;">
  <mat-card style="width: 450px; padding: 0; margin-top: 30px;">
    <textarea class="comment-textarea" id="publicationContentAddTextarea" cdkTextareaAutosize placeholder="Add the content here..."
              [(ngModel)]="publicationCreate.content"></textarea>
    <button id="publicationContentAddButton" mat-button (click)="addNewPublication()">Add New Publication</button>
  </mat-card>
  <!-- Publications -->
  <mat-card style="width: 450px; padding: 0; margin-top: 30px;" *ngFor="let publication of publicationsData">
    <mat-card-header>
      <mat-card-title style="margin-top: 20px; flex-direction: row; display: flex">
        <img style="width: 40px;" src="/assets/img/{{publication.userAvatar}}.png" alt="{{publication.userAvatar}}"/>
        <div>
          <div style="font-weight: bold; font-size: 15px;">{{publication.username}}</div>
          <div style="font-size: 12px; color: #888888">13 de julio a las 20:20</div>
        </div>
      </mat-card-title>
    </mat-card-header>
    <br>
    <mat-card-content>
      <div style="margin-bottom: 20px;">
        <div style="margin-left: 20px;"> {{publication.content}} </div>
      </div>
      <div class="line"></div>
      <!-- Add Comment -->
      <div mat-subheader style="color: #0000008a; font-weight: 500;">Add a new comment</div>
      <div>
        <div style="padding-left: 30px; padding-right: 30px;">
          <div style="display: flex; flex-direction: row">
            <div style="flex-grow: 1; flex-basis: 0;">
              <div style="display: flex; flex-direction: row;">
                <div class="form" style="flex-grow: 1;">
                  <div style="padding: 8px 12px;">
                    <textarea class="comment-textarea" [id]="'input' + publication.id" cdkTextareaAutosize placeholder="Add a new comment here..."
                              [(ngModel)]="comment[publicationsData.indexOf(publication)]"></textarea>
                  </div>
                </div>
                <button [id]="'button' + publication.id" mat-button color="primary" (click)="addNewComment(publicationsData.indexOf(publication), publication.id)">Comment</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Comments -->
      <mat-list style="padding-bottom: 15px;">
        <div mat-subheader>Comments</div>
        <mat-list-item style="flex-direction: row; height: auto; max-width: 450px; margin-top: 5px;" *ngFor="let publicationComment of publicationCommentsArranged[publicationsData.indexOf(publication)]">

          <div style="position: relative; margin-right: 10px; align-self: flex-start"><img style="width: 40px;" src="/assets/img/{{publicationComment.userAvatar}}.png"
                                                                    alt="{{publicationComment.userAvatar}}"/> </div>
          <div class="comment" style="flex-grow: 1; flex-basis: 0;">
            <div style="font-weight: bold; font-size: 12px;">{{publicationComment.username}}</div>
            <div>{{publicationComment.comment}}</div>
          </div>
        </mat-list-item>
      </mat-list>

    </mat-card-content>
  </mat-card>
</div>
